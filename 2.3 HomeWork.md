### 2.3 Процессы, управление процессами  [Кулагин Игорь]

## Задание 1
**Q1:** 100 файлов на разных Web-серверах, суммарным объёмом 10 Гбайт, через подключение со скоростью 1Мбит\с;

**A1:** Вероятнее всего узким местом будет скорость канала в 1Мбит/с. Такую низкую по нынешним временам пропускную способность скорее всего сможет утилизировать на 100% один поток скачивания. Если запустить еще несколько потоков, то пропускная способность будет делиться между ними и большую часть времени они будут просто ждать освобождения ресурса канала. Таким образом в данном случае на мой взгляд многопоточность не поможет ускорить загрузку файлов.


**Q2:** 100 файлов на разных Web-серверах, суммарным объёмом 10 Гбайт, через подключение со скоростью 10 Гбит\с;

**A2:** В данном случае канал уже не будет являться "бутылочным горлышком". Кроме того велика вероятность, что далеко не каждый веб-сервер будет способен отдавать файлы клиенту со скоростью 10 Гбит/с, а значит одним потоком такой канал загружен не будет. Поэтому в данном случае увеличение потоков будет иметь смысл до момента, пока канал не будет утилизирована на 100%.


**Q3:** 1 файл объёмом 10 Гбайт находящийся в торрентах;

**A3:** Каждый seed как правило отдает данные с очень небольшой скоростью. В связи с этим, как и в предыдущем случае, увеличение потоков будет иметь смысл до момента, пока доступный leach'у канал не будет утилизирована на 100%. Многопоточноть определенно поможет в данном случае.


**Q4:** 1 файл объёмом 10 Гбайт находящийся на FTP-сервере;

**A4:** Едва ли удастся уменьшить время скачивания файлов, так как FTP-сервер, насколько мне известно, не позволяет моногопоточное скачивание одного файла. Для скачивания разных файлов можно было бы создать несколько сессий - одна сессия на один файл, но по условиям задачи загружается один файл. Многопоточность не будет эффективна из-за ограничений на стороне сервера FTP.

**Q5:** 10 файлов объёмом по 1 Гб находящихся в общей папке компьютера секретаря.

**A5:** Ограничением будет либо пропускная способность локальной сети, либо скорость отдачи данных на стороне файлового сервера, особенно при его высокой загрузке или медленной дисковой подсистеме, которая обычно и достается файловым серверам. В данном случае скорее всего будет **незначительно** быстрее скачать 10 файлов последовательно, чем запустить 10 потоков загрузки и устроить между ними соревнование за ресурсы сети или дисковой подсистемы сервера и клиента.

## Задание 2

**Q:** Объясните, что делает команда:
```console
ps -aux | grep root | wc -l >> root
```
**A:** 
*ps aux* - выводит список процессов, запущенных от всех пользователей (*a*); отображает от чьего имени запущен процесс (*u*); отображает процессы, которые не были запущены через терминал. Т.е. *ps aux* выводит все процессы, независимо от того кто и где из запустил, и отображает идентификатор пользователя, от имени которого процесс юыл запущен.
*grep root* - фильтрует все строки, в которых содержится *root*;
*wc -l* - подсчитывает число строк; в данном случае в полученном от предыдущей команде выводе;
*>> root* - перенаправление вывода *wc-l* в файл root в текущей директории. Если файла не существует, он будет создан. Если файл существует, то вывод будет дописан к существующему содержимому.

## Задание 3
```console
ps -U root -u root u >> user_root_ps
```

## Задание 4
**Q:** Почему вывод этих команд и содержимое файлов сильно отличаются друг от друга? Как должны выглядеть правильные команды?

**A:** При выполнении команд вывод действительно будет разным. Для *ps -U 5> user_5_ps* он будет следующем:
```console
error: list of real users must follow -U

Usage:
 ps [options]

 Try 'ps --help <simple|list|output|threads|misc|all>'
  or 'ps --help <s|l|o|t|m|a>'
 for additional help text.

For more details see ps(1).
```
В тоже время для ps -U 2> user_2_ps вывод в терминал будет пустым. Дело в том, что в обоих командах не был предоставлен аргумент для параметра -U и команда завершилась с ошибкой оба раза. Однако конструкция *2>* перенаправляет стандартный вывод ошибок *stderr* в указанные файл, поэтому для команды *ps -U 2> user_2_ps* вывод на терминал будет пустым, а файл *user_2_ps* будет содержать сообщение об ошибке. В тоже время для команды *ps -U 5> user_5_ps* вывод будет в терминал будет содерджать ошибку выполнения команды, а файл *user_5_ps* будет пустым, так как конструкция *5>* не перенаправляет какой-либо вывод.
