# 06.1 Типы и структура СУБД - Кулагин Игорь
### Задача 1
>Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.

>Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

>- электронные чеки в json-виде,

Документоориентированные СУБД, так как данные будут структурированы в самом json-файле, нежели средствами СУБД.

>- склады и автомобильные дороги для логистической компании,

На основании формулировки задания нет никаких предпосылок для выбора типа СУБД, отличного от наиболее универсального варианта - реляционного.

>- генеалогические деревья,

Графовые СУБД исходя их того, что сама структура генеалогического дерева это граф.

>- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,

СУБД типа ключ-значение, потому что простые, быстрые и поддерживают TTL для записей.

>- отношения клиент-покупка для интернет-магазина.

Реляционные СУБД так как в постановке задачи сказано об отношении (реляции).

### Задача 2

> Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

 Согласно CAP-теореме система может иметь только два из трех свойств:
 1. Согласованность (Consistency)
 2. Доступность (Availability)
 3. Устойчивость к разделению (Partition tolerance). 

> - данные записываются на все узлы с задержкой до часа (асинхронная запись);

- **Согласованность (С)**. Под вопросом из-за асинхронности (при сбое данные могут отличаться на разных узлах).
- **Доступность (А)**. Высокая доступность, так как существует несколько узлов и система готова принимать запросы даже при задержке записи.
- **Устойчивость к разделению (P)**. Такая система скорее всего устойчива к разделению сети, так как запись выполняется на все узлы, и отдельные узлы могут быть временно недоступны без влияния на другие.

*Классификация по CAP:* **AP**

> - при сетевых сбоях система может разделиться на 2 раздельных кластера;

- **Согласованность (С)**. В случае разделения на два кластера, согласованность страдает, так как разные кластеры вероятнее всего будут работать независимо, что может привести к несогласованным данным.
- **Доступность (А)**. Не смотря на разделение на два кластера каждый из них остается доступным.
- **Устойчивость к разделению (P)**. При сбое система разделяется на два кластера, каждый их которых работает независимо, что говорит о том, что она обеспечивает устойчивость к разделению.

*Классификация по CAP*: **AP**

> - система может не прислать корректный ответ или сбросить соединение.
- **Согласованность (С)**. Недостаточно данных, чтобы делать выводы о согласованности данных в такой системе. Нет повода считать, что они будут несогласованы.
- **Доступность (А)**. Отсутствие ответа от системы или сброс соединения можно считать недоступностью.
- **Устойчивость к разделению (P)**. Недостаточно данных, чтобы точно сказать про устойчивость системы к разделению. Предположим, что она усточива.

*Классификация по CAP*: с учетом сделанных допущений - **CP**.

> Согласно PACELC-теореме как бы вы классифицировали эти реализации?

### Задача 3
> Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Не смотря на то, что подходы ACID и BASE описывают различные и даже противоположные по назначению модели обработки и хранения данных в СУБД, в реальных системах может возникнуть ситуация, когда некоторые части системы следуют ACID, обеспечивая высокую консистентность данных, в то время как другие части могут придерживаться BASE, что гарантирует высокую доступность и устойчивость системы. Это особенно характерно для распределенных систем, где могут возникать задержки и асинхронное согласование данных между узлами.

### Задача 4
> Вам дали задачу написать системное решение, основой которого бы послужили:
> - фиксация некоторых значений с временем жизни,
> - реакция на истечение таймаута.
> Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?

**Pub/Sub** - это такой механизм взаимодействия между компонентами системы, где отправители вместо прямого отправления сообщений получателям публикуют их в определенные "темы" / "каналы", а получатели подписываются на них и автоматически получают сообщения, опубликованные в этих "темах" / "каналах".

**Плюсы Pub/Sub:**
1. *Легкость интеграции и масштабируемость* - простое добавление новых подписчиков или изменение "тем" / "каналов" без каких-либо изменений на публикующей стороне.
2. *Разделение функционала* - публикаторы и подписчики могут работать независимо, что упрощает архитектуру системы.
3. *Асинхронность* - позволяет обрабатывать сообщения асинхронно, улучшая производительность.

**Минусы Pub/Sub:**
1. *Сложность обработки ошибок* - если подписчик не может обработать сообщение (например, из-за сбоя), необходимы механизмы повторной обработки или управления ошибками.
2. *Сложность мониторинга* - отслеживание того, какие сообщения отправляются и принимаются, может потребовать дополнительных инструментов мониторинга.
3. *Сложность восстановления после сбоев* - в распределенных системах могут возникнуть сложности в восстановлении после сбоев или в случае переупорядочивания сообщений.


