### 2.4 Память, управление памятью  [Кулагин Игорь]

## Задание 1
>Что происходит с оперативной памятью во время перехода ПК в:
>1. сон (suspend)
>2. гибернацию (hibernate)

1. Сон (Sleep) - режим энергосбережения, который позволяет приостановить работу, а потом максимально оперативно ее восстановить с того момента, на котором она остановилась. При это все данные системного и прикладного ПО хранятся в оперативной памяти, что подразумевает подачу питания на нее. Т.е. компьютер включен, но потребляет очень мало электроэнергии и может очень быстро восстановить работу.
2. Гибернация (Hibernation) - аналогичный предыдущему режим с той разницей, что данные хранятся не в RAM, а на дисках HDD или SSD. При переходе в режим гибернации содержимое RAM выгружается на диск, а ПК выключается, т.е. никакого питания не потребляет. При включении ПК данные с диска загружаются в RAM и работа восстанавливается с того момента, на котором была прервана. В связи с тем, что данные загружаются с диска в память, а также ПК происходит все этапы обычной загрузки, время выхода из гибернации превышает время выхода из режима сна.

## Задание 2
**Q** Как называется эта команда? Что такое si и so в примере на картинке?

**A** vmstat - Report virtual memory statistics
- si - объем памяти, которое система считывает из swap-файла в секунду. 
- so - объем памяти, которое система выгружает в swap-файл в секунду.

## Задание 3
**Q**
Приведите 3 команды, которые выведут на экран следующее:

1. Архитектуру ПК
2. Модель процессора
3. Количество памяти, которая уже не используется процессами, но еще остается в памяти(ключевое слово - inactive).

**A**
1. ```lscpu | grep Architecture```

![2.4. Task #3.1 results](screenshots/2.4-3.1.png)

2. ```lscpu | grep "Model name"```

![2.4. Task #3.2 results](screenshots/2.4-3.2.png)

3. ```vmstat -s | grep "inactive"```

![2.4. Task #3.3 results](screenshots/2.4-3.3.png)

## Задание 4
1. Создайте скрин вывода команды free -h -t

![2.4. Task #4.1 results](screenshots/2.4-4.1.png)

2. Создайте swap-файл размером 1Гб

![2.4. Task #4.2 results](screenshots/2.4-4.2.png)

3. Добавьте настройку чтобы swap-файл подключался автоматически при перезагрузке виртуальной машины (подсказка: необходимо внести изменения в файл /etc/fstab)

![2.4. Task #4.3 results](screenshots/2.4-4.3.png)

4. Создайте скрин вывода команды free -h -t

![2.4. Task #4.4 results](screenshots/2.4-4.4.png)

>5. Создайте скрин вывода команды swapon -s

![2.4. Task #4.5 results](screenshots/2.4-4.5.png)

>6. Измените процент свободной оперативной памяти, при котором начинает использоваться раздел подкачки до 30%. Сделайте скрин внесенного изменения.

![2.4. Task #4.6 results](screenshots/2.4-4.6.png)

## Задание 5

>Расскажите в свободной форме, в каких случаях уместно использовать эту технологию.

tmpfs временная файловая система, которая может размещаться в ОЗУ или в swap. Основное преимущество - при достаточном количестве ОЗУ можно размещать в tmpfs файлы, при использовании которых требуется высокая скорость доступа, но при этом файлы могут быть удлаены без ущерба. Напрмер. это может какой-то кэш. В вики arch еще говорят о монтировании /var/run и /var/lock в tmpfs.

>Создайте диск tmpfs (размер выберите исходя из объёма ОЗУ на ПК: 512Мб-1Гб), смонтируйте его в директорию /mytmpfs.
>В качестве ответа приведите скрин вывода команды df- h до и после монтирования диска tmpfs.

![2.4. Task #5.1 results](screenshots/2.4-5.1.png)

![2.4. Task #5.2 results](screenshots/2.4-5.2.png)